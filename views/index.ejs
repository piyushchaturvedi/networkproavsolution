<%- include('_header', { pageTitle: pageTitle, activePage: 'home' }) %>
<style>
  /* === PRODUCT CARD IMAGE FIX === */
  .product-card img {
    width: 100% !important;
    height: 240px !important;
    /* Adjust for desktop */
    object-fit: contain !important;
    object-position: center !important;
    background-color: #fff !important;
    border-radius: 10px !important;
    padding: 0 !important;
    transition: transform 0.3s ease !important;
  }

  /* Hover zoom effect */
  .product-card img:hover {
    transform: scale(1.05) !important;
  }

  /* === MOBILE VIEW === */
  @media (max-width: 576px) {
    .product-card img {
      height: 180px !important;
      /* Slightly smaller for phones */
      object-fit: contain !important;
    }

    .product-card {
      margin: 0 auto !important;
      max-width: 95% !important;
    }

    .card-body {
      padding: 10px !important;
    }
  }
</style>
<!-- Antivirus Section -->
<section class="Antivirus">
  <div class="Antivirus-text">
    <p><%= settings.homeSubtitle %></p>
    <h1>
      <% const lines = settings.homeHeading.split('\n'); %>
      <% lines.forEach(line => { %>
      <%= line %><br>
      <% }); %>
    </h1>
    <p class="description"><%= settings.homeDescription %></p>
    <a href="/products" class="btn btnNew"><button class="add-to-cart-button"
        id="addToCartBtn"><%= settings.homeButtonText %></button></a>
  </div>
  <div class="antivirus-slider">
    <div class="slides">
      <img src="/uploads/campaign_banners/mcafee.png" alt="mcafee Antivirus" class="active">
      <img src="/uploads/campaign_banners/Norton.png" alt="Norton Antivirus">
      <img src="/uploads/campaign_banners/watchdog.png" alt="watchdog Antivirus">
      <img src="/uploads/campaign_banners/Bitdefender.png" alt="Bitdefender Antivirus">
      <img src="/uploads/campaign_banners/AVG.png" alt="AVG Antivirus">
    </div>
  </div>

</section>

<p class="welcome_msg_description"><span>Welcome to NetworkproAV Solution ‚Äî </span> your reliable online destination for
  purchasing antivirus software from trusted third-party authorized resellers in the United States and Canada.We are an
  independent e-commerce platform and certified reseller under various official reseller programs, offering genuine and
  verified security products to protect your digital world. Every product we sell is sourced from reputable and
  authorized partners.At NetworkproAV Solution, we follow fair business practices, comply with all industry guidelines,
  and prioritize honest service and customer satisfaction. Shop with confidence, knowing you‚Äôre getting authentic
  software, secure transactions, and exceptional customer support ‚Äî all in one place.</p>

<!-- Campaign Banner -->
<% if (settings.enableCampaignBanner) { %>
<div class="shop shop_campaign">
  <section class="deal-section">
    <section class="campaign-banner"
      style="background-color: <%= settings.campaignBannerBackgroundColor %>; color: <%= settings.campaignBannerTextColor %>;">
      <div class="campaign-content">
        <div class="campaign-text">
          <h2><%= settings.campaignBannerHeading %></h2>
          <p><%= settings.campaignBannerText %></p>
          <a href="<%= settings.campaignBannerButtonLink %>"
            class="btn campaign-btn"><%= settings.campaignBannerButtonText %> <i class="fa fa-angle-right"></i></a>
        </div>
        <% if (settings.campaignBannerImageUrl) { %>
        <div class="campaign-image">
          <div class="campaign-slides">
            <img src="/uploads/campaign_banners/offer-banner/McAFee.png" alt="McAfee Banner">
            <img src="/uploads/campaign_banners/offer-banner/Watchdog.png" alt="Watchdog Banner">
            <img src="/uploads/campaign_banners/offer-banner/Bitdefender.png" alt="Bitdefender Banner">
            <img src="/uploads/campaign_banners/offer-banner/AVG_BANNER.png" alt="AVG Banner">
            <img src="/uploads/campaign_banners/offer-banner/Norton.png" alt="Norton Banner">
            <img src="/uploads/campaign_banners/offer-banner/Watchdog.png" alt="Watchdog Banner">
          </div>
        </div>
        <% } %>
      </div>
    </section>
</div>
</section>
<% } %>

<div class="shop shop_sec_icons">
  <section class="deal-section">
    <!-- Features Section -->
    <section class="features-section">
      <div class="feature">
        <img src="https://img.icons8.com/ios-filled/50/headset.png" alt="Support">
        <p>24/7 Support</p>
        <span>Get genuine antivirus protection with 24/7 expert support you can count on</span>
      </div>
      <div class="feature">
        <img src="https://img.icons8.com/ios-filled/50/tag-window.png" alt="Price">
        <p>Lowest Price</p>
        <span>Save More, Stay Secure ‚Äî Authorized Antivirus Software at the Lowest Price.</span>
      </div>
      <div class="feature">
        <img src="https://img.icons8.com/ios-filled/50/bank-card-back-side.png" alt="Payment">
        <p>Secure Payment</p>
        <span>Your Safety Starts with Secure Payment and Ends with Trusted Protection.</span>
      </div>
      <div class="feature">
        <img src="https://img.icons8.com/ios-filled/50/downloads.png" alt="Install">
        <p>Easy Installation</p>
        <span>Zero Hassle, Maximum Security. Quick installation with round-the-clock help.</span>
      </div>
    </section>
</div>
</div>


<div class="main-featured-section">
  <section class="featured-section">
    <h2>Our Featured Products</h2>
    <div class="underline"></div>

    <div class="products">
      <% featuredProducts.forEach(product => { %>
      <div class="product-card">
        <% if (product.isOnSale) { %>
        <span class="badge">Sale!</span>
        <% } %>
        <a href="/product/<%= product.slug || product.id %>">
          <img src="<%= product.image || '/image/default.png' %>" alt="<%= product.name %>">
        </a>
        <p class="brand"><%= product.brand || product.category %></p>
        <h3><%= product.name %></h3>
        <div class="stars">‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ</div>
        <p class="price">
          <% if (product.oldPrice) { %>
          <del>$<%= product.oldPrice %></del>
          <% } %>
          <span>$<%= product.price %></span>
        </p>
      </div>
      <% }) %>
    </div>
  </section>
</div>
<div class="shop">
  <section class="deal-section">
    <div class="deal-content">
      <div class="deal-text">
        <h3><%= settings.dealSubHeading %></h3>
        <h1><%= settings.dealHeading %></h1>
        <p><%= settings.dealContent %></p>
        <a href="<%= settings.dealButtonLink %>" class="btn"><%= settings.dealButtonText %></a>
      </div>
      <div class="deal-image">
        <a href="<%= settings.dealButtonLink %>" class="btn">
          <img src="<%= settings.dealImageUrl %>" style="max-width: 50% !important; margin-left: 26%;" alt="Today's Deal Image" />
        </a>
      </div>
    </div>
  </section>
</div>


<section class="featured-section">
  <h2>Most Loved Products</h2>
  <div class="underline"></div>

  <div class="products">
    <% if (lovedProducts && lovedProducts.length > 0) { %>
    <% lovedProducts.forEach(product => { %>
    <div class="product-card">
      <% if (product.oldPrice > product.price) { %>
      <span class="badge" style="background-color: #ef4444;">Sale!</span>
      <% } %>
      <a href="/product/<%= product.slug || product.id %>">
        <img src="<%= product.image || '/image/default.png' %>" alt="<%= product.name %>">
      </a>
      <p class="brand"><%= product.brand || product.category %></p>
      <h3><%= product.name %></h3>

      <div class="stars">
        <% for (let i = 0; i < Math.floor(product.rating); i++) { %>‚≠ê<% } %>
        <% if (product.rating % 1 !== 0) { %><span class="half">¬Ω</span><% } %>
      </div>

      <p class="price">
        <% if (product.oldPrice) { %>
        <del>$<%= product.oldPrice.toFixed(2) %></del>
        <% } %>
        <span>$<%= product.price.toFixed(2) %></span>
      </p>
      <% if (product.savePercent > 0) { %>
      <p class="save">SAVE <%= product.savePercent %>%</p>
      <% } %>
    </div>
    <% }) %>
    <% } else { %>
    <p style="text-align: center; width: 100%;">No "Most Loved Products" are currently marked.</p>
    <% } %>
  </div>
</section>


<!-- <div class="our">
    <h1> OUR HAPPY CLIENTS </h1>
    <div class="underline"></div>
  </div> -->
<section class="testimonials">
  <% if (testimonials && testimonials.length > 0) { %>
  <% testimonials.forEach(testimonial => { %>
  <div class="card">
    <p>"<%= testimonial.quote %>"</p>
    <div class="stars">
      <% for (let i = 0; i < Math.floor(testimonial.rating); i++) { %>‚≠ê<% } %>
      <% if (testimonial.rating % 1 !== 0) { %><span class="half">¬Ω</span><% } %>
    </div>
    <div class="user">
      <img src="<%= testimonial.userImage %>" alt="User: <%= testimonial.userName %>" />
      <p><%= testimonial.userName %></p>
    </div>
  </div>
  <% }); %>
  <% } else { %>
  <p style="text-align: center; width: 100%;">No testimonials to display yet.</p>
  <% } %>
</section>

<script>
  // üü¢ Antivirus Slider
  let index = 0;
  const slides = document.querySelector('.slides');
  const total = document.querySelectorAll('.slides img').length;

  setInterval(() => {
    index = (index + 1) % total;
    slides.style.transform = `translateX(-${index * 100}%)`;
  }, 3000);


  // üü¢ Campaign Slider
  let campaignIndex = 0;
  const campaignSlides = document.querySelector('.campaign-slides');
  const totalCampaignSlides = document.querySelectorAll('.campaign-slides img').length;

  setInterval(() => {
    campaignIndex = (campaignIndex + 1) % totalCampaignSlides;
    campaignSlides.style.transform = `translateX(-${campaignIndex * 100}%)`;
  }, 3000);
</script>

<%- include('_footer') %>